<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±Ú©Ø² ÙØ±Ù…Ø§Ù†Ø¯Ù‡ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯</title>
    <style>
        body { background: #050505; color: #00ff41; font-family: 'Tahoma', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .terminal { background: rgba(0, 0, 0, 0.9); padding: 25px; border: 2px solid #00ff41; border-radius: 20px; box-shadow: 0 0 30px #00ff41; width: 90%; max-width: 420px; text-align: center; }
        textarea { background: #000; border: 1px solid #00ff41; color: #00ff41; padding: 15px; width: 100%; margin: 10px 0; border-radius: 10px; outline: none; box-sizing: border-box; font-family: inherit; }
        button { background: #00ff41; color: #000; border: none; padding: 12px; width: 100%; border-radius: 10px; cursor: pointer; font-weight: bold; margin-top: 10px; transition: 0.3s; font-family: inherit; }
        .voice-btn { background: #ff3e3e; color: white; height: 60px; font-size: 18px; }
        .voice-btn:active { background: #aa0000; transform: scale(0.95); }
        #mainPanel { display: none; }
        .status-bar { font-size: 12px; border-bottom: 1px solid #00ff41; padding-bottom: 10px; margin-bottom: 15px; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

    <div id="loginBox" class="terminal">
        <h2>ğŸ”’ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³Ø§Ù…Ø§Ù†Ù‡</h2>
        <input type="password" id="passInput" style="background:#000; color:#00ff41; border:1px solid #00ff41; padding:10px; width:100%; border-radius:10px; text-align:center;" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...">
        <button onclick="checkPass()">ØªØ§ÛŒÛŒØ¯ Ù‡ÙˆÛŒØª</button>
    </div>

    <div id="mainPanel" class="terminal">
        <div class="status-bar">
            <span id="batStat">Ø¨Ø§ØªØ±ÛŒ: --</span>
            <span>ÙˆØ¶Ø¹ÛŒØª: Ø§ÛŒÙ…Ù† âœ…</span>
        </div>
        
        <h3>âš¡ Ù…Ø±Ú©Ø² Ú©Ù†ØªØ±Ù„ Ø§ÛŒÙ…Ø§Ù†</h3>
        
        <textarea id="msgBody" rows="3" placeholder="Ù…ØªÙ† Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
        <button onclick="sendText()">ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´ Ù…ØªÙ†ÛŒ</button>
        
        <hr style="border:0.5px solid #00ff41; margin:20px 0;">

        <button id="recordBtn" class="voice-btn">ğŸ¤ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ ÙˆÛŒØ³ Ø¶Ø¨Ø· Ø´ÙˆØ¯</button>
        
        <div style="display:flex; gap:10px; margin-top:10px;">
            <button onclick="document.getElementById('fileInput').click()" style="background:#0088ff; color:white;">ğŸ“¸ ØªØµÙˆÛŒØ±</button>
            <button onclick="sendLocation()" style="background:#ffcc00; color:black;">ğŸ“ Ù…Ú©Ø§Ù†</button>
        </div>
        
        <input type="file" id="fileInput" accept="image/*" style="display:none" onchange="sendFile()">
        <p id="statusMsg" style="font-size: 13px; margin-top: 15px; color:#888;">Ø³ÛŒØ³ØªÙ… Ø¢Ù…Ø§Ø¯Ù‡ Ø¹Ù…Ù„ÛŒØ§Øª</p>
    </div>

    <script>
        const token = "8576028087:AAGUs0ZWXpLYp5mRN0XbI-2ZuIu4eLRtpNM";
        const chatId = "8449439423";
        const MY_PASS = "1387";
        let mediaRecorder;
        let audioChunks = [];

        // Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§ØªØ±ÛŒ
        navigator.getBattery().then(bat => {
            const updateBat = () => document.getElementById('batStat').innerText = `ğŸ”‹ Ø¨Ø§ØªØ±ÛŒ: ${Math.round(bat.level * 100)}%`;
            updateBat(); bat.onlevelchange = updateBat;
        });

        function checkPass() {
            if(document.getElementById('passInput').value === MY_PASS) {
                document.getElementById('loginBox').style.display = 'none';
                document.getElementById('mainPanel').style.display = 'block';
                setupVoice();
            } else { alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!"); }
        }

        // Ø³ÛŒØ³ØªÙ… Ø¶Ø¨Ø· ØµØ¯Ø§
        async function setupVoice() {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaRecorder = new MediaRecorder(stream);
            
            const btn = document.getElementById('recordBtn');
            
            btn.onmousedown = () => {
                audioChunks = [];
                mediaRecorder.start();
                btn.innerText = "ğŸ”´ Ø¯Ø± Ø­Ø§Ù„ Ø¶Ø¨Ø·... (Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯)";
                btn.style.background = "#ff0000";
            };

            btn.onmouseup = () => {
                mediaRecorder.stop();
                btn.innerText = "ğŸ¤ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ ÙˆÛŒØ³ Ø¶Ø¨Ø· Ø´ÙˆØ¯";
                btn.style.background = "#ff3e3e";
            };

            mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
            
            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/ogg' });
                const formData = new FormData();
                formData.append('chat_id', chatId);
                formData.append('voice', audioBlob, 'voice.ogg');
                
                document.getElementById('statusMsg').innerText = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ ÙˆÛŒØ³...";
                fetch(`https://api.telegram.org/bot${token}/sendVoice`, { method: 'POST', body: formData })
                .then(() => document.getElementById('statusMsg').innerText = "ÙˆÛŒØ³ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…");
            };
        }

        function sendText() {
            const b = document.getElementById('msgBody').value;
            if(!b) return;
            fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent("ğŸ‘¤ Ú¯Ø²Ø§Ø±Ø´ Ø§ÛŒÙ…Ø§Ù†:\n"+b)}`);
            document.getElementById('statusMsg').innerText = "Ù¾ÛŒØ§Ù… Ù…ØªÙ†ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯";
            document.getElementById('msgBody').value = "";
        }

        function sendFile() {
            const file = document.getElementById('fileInput').files[0];
            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('photo', file);
            document.getElementById('statusMsg').innerText = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ ØªØµÙˆÛŒØ±...";
            fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: 'POST', body: formData })
            .then(() => document.getElementById('statusMsg').innerText = "ØªØµÙˆÛŒØ± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…");
        }

        function sendLocation() {
            navigator.geolocation.getCurrentPosition(pos => {
                const url = `https://api.telegram.org/bot${token}/sendLocation?chat_id=${chatId}&latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}`;
                fetch(url);
                document.getElementById('statusMsg').innerText = "Ù„ÙˆÚ©ÛŒØ´Ù† Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ ğŸ“";
            });
        }
    </script>
</body>
</html>
