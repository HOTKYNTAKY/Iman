<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÛŒØ³ØªÙ… Ú¯Ø²Ø§Ø±Ø´â€ŒØ¯Ù‡ÛŒ Ø§ÛŒÙ…Ù†</title>
    <style>
        body { background: #050505; color: #00ff41; font-family: 'Tahoma', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .terminal { background: rgba(0, 0, 0, 0.9); padding: 25px; border: 2px solid #00ff41; border-radius: 15px; box-shadow: 0 0 25px #00ff41; width: 100%; max-width: 420px; text-align: center; }
        input, textarea { background: #000; border: 1px solid #00ff41; color: #00ff41; padding: 12px; width: 100%; margin: 8px 0; border-radius: 8px; outline: none; box-sizing: border-box; font-family: inherit; }
        button { background: #00ff41; color: #000; border: none; padding: 12px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; transition: 0.3s; }
        button:hover { opacity: 0.8; }
        #adminBox { background: rgba(0, 50, 0, 0.4); border: 1px dashed #0f0; padding: 10px; margin-bottom: 15px; border-radius: 8px; font-size: 13px; min-height: 40px; }
        #mainPanel { display: none; }
    </style>
</head>
<body>

    <div id="loginBox" class="terminal">
        <h2>ğŸ”’ Ø³ÛŒØ³ØªÙ… Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯</h2>
        <input type="password" id="passInput" placeholder="Ú©Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ...">
        <button onclick="checkPass()">ÙˆØ±ÙˆØ¯ Ø§Ù…Ù†</button>
    </div>

    <div id="mainPanel" class="terminal">
        <div id="adminBox">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø§Ø² Ù…Ø±Ú©Ø²...</div>
        
        <input type="text" id="userName" placeholder="Ù†Ø§Ù… ÙØ±Ø³ØªÙ†Ø¯Ù‡">
        <textarea id="msgBody" rows="3" placeholder="Ù…ØªÙ† Ú¯Ø²Ø§Ø±Ø´ Ù…Ø­Ø±Ù…Ø§Ù†Ù‡..."></textarea>
        
        <button onclick="sendText()">ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡</button>
        <button id="recordBtn" style="background:#ff3e3e; color:white;" onclick="toggleRecording()">ğŸ¤ Ø¶Ø¨Ø· ÙˆÛŒØ³</button>
        <button onclick="sendLocation()" style="background:#ffcc00; color:black;">ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ</button>
        
        <p id="statusMsg" style="font-size: 11px; margin-top: 15px; color:#666;">ÙˆØ¶Ø¹ÛŒØª: Ù…ØªØµÙ„ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…Ø±Ú©Ø²ÛŒ</p>
    </div>

    <script>
        // --- Ø¨Ø®Ø´ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡ ØªÙˆÚ©Ù† Ùˆ Ø¢ÛŒØ¯ÛŒ ---
        const _0x4f2a = ["\x4f\x44\x55\x33\x4e\x6a\x41\x79\x4f\x44\x41\x34\x4e\x7a\x70\x42\x41\x47\x56\x54\x63\x30\x5a\x58\x56\x68\x63\x45\x78\x50\x4e\x31\x31\x31\x53\x4a\x30\x58\x62\x69\x32\x5a\x75\x49\x31\x34\x65\x4c\x52\x74\x70\x4e\x4d", "\x4f\x44\x34\x30\x4f\x54\x51\x7a\x4f\x54\x51\x79\x4d\x77\x3d\x3d"];
        const _0x1111 = (s) => atob(s.replace("111", ""));
        const T = _0x1111(_0x4f2a[0]); // Ø±Ù…Ø²Ú¯Ø´Ø§ÛŒÛŒ ØªÙˆÚ©Ù†
        const C = _0x1111(_0x4f2a[1]); // Ø±Ù…Ø²Ú¯Ø´Ø§ÛŒÛŒ Ú†Øªâ€ŒØ¢ÛŒØ¯ÛŒ
        const MY_PASS = "1387";

        let mr, ach = [], isR = false;

        function checkPass() {
            if(document.getElementById('passInput').value === MY_PASS) {
                document.getElementById('loginBox').style.display = 'none';
                document.getElementById('mainPanel').style.display = 'block';
                setupV();
                setInterval(getAdminMsg, 4000);
            } else { alert("Ø¹Ø¯Ù… ØªØ§ÛŒÛŒØ¯ Ù‡ÙˆÛŒØª!"); }
        }

        async function getAdminMsg() {
            try {
                const r = await fetch(`https://api.telegram.org/bot${T}/getUpdates?offset=-1`);
                const d = await r.json();
                if(d.ok && d.result.length > 0) {
                    const m = d.result[0].message.text;
                    if(m.includes("Ø¬ÙˆØ§Ø¨:")) {
                        document.getElementById('adminBox').innerHTML = `<b style="color:#ffcc00">ğŸ’¬ Ù¾Ø§Ø³Ø® Ù…Ø±Ú©Ø²:</b><br>${m.replace("Ø¬ÙˆØ§Ø¨:", "")}`;
                    }
                }
            } catch(e) {}
        }

        function sendText() {
            const n = document.getElementById('userName').value || "Ù†Ø§Ø´Ù†Ø§Ø³";
            const m = document.getElementById('msgBody').value;
            if(!m) return;
            fetch(`https://api.telegram.org/bot${T}/sendMessage?chat_id=${C}&text=${encodeURIComponent("ğŸ‘¤ "+n+":\n"+m)}`);
            document.getElementById('statusMsg').innerText = "Ù¾ÛŒØ§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…";
            document.getElementById('msgBody').value = "";
        }

        async function setupV() {
            try {
                const s = await navigator.mediaDevices.getUserMedia({ audio: true });
                mr = new MediaRecorder(s);
                mr.ondataavailable = e => ach.push(e.data);
                mr.onstop = () => {
                    const b = new Blob(ach, { type: 'audio/ogg' });
                    const fd = new FormData();
                    fd.append('chat_id', C);
                    fd.append('voice', b, 'v.ogg');
                    fetch(`https://api.telegram.org/bot${T}/sendVoice`, { method: 'POST', body: fd });
                    document.getElementById('statusMsg').innerText = "ÙˆÛŒØ³ Ù…Ø­Ø±Ù…Ø§Ù†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…";
                };
            } catch(e) {}
        }

        function toggleRecording() {
            const b = document.getElementById('recordBtn');
            if(!isR) {
                ach = []; mr.start(); isR = true;
                b.innerText = "ğŸ›‘ ØªÙˆÙ‚Ù Ùˆ Ø§Ø±Ø³Ø§Ù„";
            } else {
                mr.stop(); isR = false;
                b.innerText = "ğŸ¤ Ø¶Ø¨Ø· ÙˆÛŒØ³";
            }
        }

        function sendLocation() {
            navigator.geolocation.getCurrentPosition(p => {
                fetch(`https://api.telegram.org/bot${T}/sendLocation?chat_id=${C}&latitude=${p.coords.latitude}&longitude=${p.coords.longitude}`);
                document.getElementById('statusMsg').innerText = "Ù„ÙˆÚ©ÛŒØ´Ù† Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ ğŸ“";
            });
        }
    </script>
</body>
</html>
